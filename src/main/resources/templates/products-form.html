<div class="form-bg">
    <div class="container">
        <div class="form-container">
            <div class="right-content">
                <h3 class="form-title">Product</h3>
                <form th:method="POST"
                      th:action="@{'/products/add/{id}' (id=${product?.id})}"
                      class="form-horizontal">
                    <div class="form-group">
                        <label>Product Name</label>
                        <input type="text"
                               class="form-control"
                               name="name"
                               th:value="${product?.name}"
                               required>
                    </div>
                    <div class="form-group">
                        <label>Price</label>
                        <input type="text"
                               class="form-control"
                               name="price"
                               th:value="${product?.price}"
                               required>
                    </div>
                    <div class="form-group">
                        <label>Quantity</label>
                        <input type="text"
                               class="form-control"
                               name="quantity"
                               th:value="${product?.quantity}"
                               required>
                    </div>

                    <div class="form-group">
                        <label>Description</label>
                        <textarea rows="3"
                                  style="height:100%"
                                  class="form-control"
                                  name="description"
                                  th:text="${product?.description}"
                                  required></textarea>
                    </div>

                    <div class="form-group">
                        <label>Product image</label>
                        <textarea rows="3"
                                  style="height:100%"
                                  class="form-control"
                                  name="image"
                                  th:text="${product?.image}"
                                  required></textarea>
                    </div>
                    <div class="form-group">
                        <label>Category</label>
                        <select name="category" class="form-control">
                            <option th:if="${product} != null"
                                    th:selected="${product.getCategory() != null &&
                                product.getCategory().getId() == cat.getId()}"
                                    th:each="cat : ${categories}"
                                    th:value="${cat.getId()}"
                                    th:text="${cat.getName()}">
                            </option>
                            <option th:if="${product} == null"
                                    th:each="cat : ${categories}"
                                    th:value="${cat.getId()}"
                                    th:text="${cat.getName()}">
                            </option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Brand</label>
                        <select name="brand" class="form-control">
                            <option th:if="${product} != null"
                                    th:selected="${product.getBrand() != null &&
                                product.getBrand().getId() == br.getId()}"
                                    th:each="br : ${brands}"
                                    th:value="${br.getId()}"
                                    th:text="${br.getName()}">
                            </option>
                            <option th:if="${product} == null"
                                    th:each="br : ${brands}"
                                    th:value="${br.getId()}"
                                    th:text="${br.getName()}">
                            </option>
                        </select>
                    </div>
                    <button class="btn submit" type="submit">Submit</button>
                    <a id="back" href="/products" type="button" class="btn btn-primary">Back to products</a>
                </form>
            </div>
        </div>
    </div>
</div>